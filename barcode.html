<!DOCTYPE html>
<html>
<head>
  <title>Print Barcodes</title>
  <script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.5/dist/JsBarcode.all.min.js"></script>
  <style>
    body {
      font-family: Arial, sans-serif;
    }

    .label {
      width: 300px;
      height: 150px;
      border: 1px solid #ccc;
      margin: 10px;
      padding: 10px;
      display: inline-block;
      text-align: center;
      vertical-align: top;
      box-sizing: border-box;
    }

    .label img.logo {
      max-width: 80px;
      margin-bottom: 5px;
    }

    .barcode {
      margin: 5px 0;
    }

    .item-name {
      font-size: 14px;
      margin-top: 4px;
    }

    @media print {
      .label {
        page-break-inside: avoid;
      }
    }
  </style>
</head>
<body onload="renderBarcodes()">

<h2>Printing Barcodes...</h2>
<div id="labels-container"></div>

<script>
function renderBarcodes() {
  const itemsData = sessionStorage.getItem("items");
  if (!itemsData) return;

  const items = JSON.parse(itemsData); // format: [{sku: "...", name: "..."}]

  const container = document.getElementById('labels-container');
  items.forEach(item => {
    const label = document.createElement('div');
    label.className = 'label';

    const logo = document.createElement('img');
    logo.src = 'https://yourdomain.com/logo.png'; // <-- replace with your logo
    logo.className = 'logo';
    label.appendChild(logo);

    const svg = document.createElement('svg');
    svg.className = 'barcode';
    JsBarcode(svg, item.sku, { format: "CODE128", width: 2, height: 60, displayValue: false });
    label.appendChild(svg);

    const name = document.createElement('div');
    name.className = 'item-name';
    name.textContent = item.name;
    label.appendChild(name);

    container.appendChild(label);
  });

  setTimeout(() => window.print(), 500);
}
</script>

</body>
</html>
